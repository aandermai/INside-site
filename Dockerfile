# Используем официальный образ Go
FROM golang:1.21

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем go.mod и go.sum для кэширования зависимостей
COPY go.mod go.sum ./
RUN go mod download

# Копируем весь проект в контейнер
COPY . .

# Собираем проект
RUN go build -o main .

# Открываем порт, на котором будет работать сервер
EXPOSE 9000

# Команда запуска приложения
CMD ["./main"]
